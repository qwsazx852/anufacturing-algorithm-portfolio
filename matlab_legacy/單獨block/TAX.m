% clc
% clear
% T1=[3	1	2	3	4	3	3	3	3	3	1	1	1	2	4	2	2	3]
% T22=[0	2	2	0	2	1	1	0	1	2	0	2	2	2	2	2	2	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 0	2	2	0	2	1	1	0	1	2	0	2	2	2	2	2	2	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 1	1	1	1	1	0	2	1	2	1	1	1	1	1	1	1	1	1
% 1	1	1	1	1	2	0	1	0	1	1	1	1	1	1	1	1	1
% 0	2	2	0	2	1	1	0	1	2	0	2	2	2	2	2	2	1
% 1	1	1	1	1	2	0	1	0	1	1	1	1	1	1	1	1	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 0	2	2	0	2	1	1	0	1	2	0	2	2	2	2	2	2	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 2	0	0	2	0	1	1	2	1	0	2	0	0	0	0	0	0	1
% 1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	0]
% RR=[18	16	17	14	4	11	13	5	15	8	7	3	1	6	10	9	2	12]%p
% order = [3 2;3 1;4 5;4 8;5 7;5 6;6 9;7 9;8 6;10 12;11 12;13 12;14 1;14 4;15 12;16 15;17 15;18 10;18 11;18 13];  %拆裝先後順序條件限制
% Or = LBbn(order,18);
% 
% f=[]
% % for j =1:8
% SS=0;
% % RR=p(j:j+10)
% for i = 1:length(RR)-1
%     SS=SS+T22(RR(i),RR(i+1));
%     if T1(RR(i))~=T1(RR(i+1))
%         SS=SS+1
%     end
% 
% end
% 
% % f=[f;SS]
% % end
% % a=[18 3 14 4 13 10 11 5 7 8 17 1 16 2 6 15 9 12;16	18	17	14	4	15	5	11	13	8	7	3	1	6	10	9	2	12]
% % b=[36 29 ]
% % 
% % % p=[16	18	17	14	4	15	5	11	13	8	7	3	1	6	10	9	2	12]
% % % p2=[18 3 14 4 13 10 11 5 7 8 17 1 16 2 6 15 9 12]
% % [ee,bb] = LBa0(18,a,b,1,T1,T22,2,Or,0.6)
% % [a,b] = LBb0(18,a,b,Or,T1,T22,1) %突變(block)
% % 
% %  14	18	16	17	4	11	13	5	15	8	7	3	1	6	10	9	2	12
% % 18	14	16	17	4	11	13	5	15	8	7	3	1	6	10	9	2	12
% % 18	16	14	17	4	11	13	5	15	8	7	3	1	6	10	9	2	12
% % 18	16	17	14	4	11	13	5	15	8	7	3	1	6	10	9	2	12
% 
% % 
% % 
% % 
n=75
order=[1,2;1,3;1,4;1,5;1,6;1,7;2,15;3,13;3,24;4,8;4,14;4,16;5,12;5,15;6,9;6,10;6,11;6,13;9,20;9,24;10,18;12,19;13,22;15,17;15,20;15,23;16,21;16,26;17,30;18,26;18,30;20,27;21,33;24,25;25,28;25,30;25,33;25,34;26,31;26,32;26,41;27,29;27,35;27,36;31,37;31,39;32,44;32,45;33,41;35,38;35,42;36,40;36,43;39,51;40,46;42,47;43,48;43,50;46,51;46,48;47,49;47,50;47,52;47,53;49,59;49,61;49,62;50,54;50,55;50,60;50,62;52,56;52,57;53,58;55,63;58,65;59,64;59,66;62,67;66,68;68,69;68,70;68,71;68,72;68,73;68,74;68,75];

CA=cell(n,1);
bn=[];
for i=1:n
%     i
    if sum(order(:,1)==i) ~= 0
        ww=[order(order(:,1)==i,2)' 10000];
        xx=[order(order(:,1)==i,2)' order(order(:,1)==ww(1),2)'];
        while sum(ww) ~= 10000
            ww=[ww(1:end-1) order(order(:,1)==ww(1),2)' ww(end)];
            ww(1)=[];
            ww=unique(ww);
            xx=[xx order(order(:,1)==ww(1),2)'];
            xx=unique(xx);
        end
        bn(i)=nnz(xx);
        CA{i,1}=xx;
    else
        bn(i)= 0;
    end
end

Or=zeros(n);
for i=1:n
    for j=1:nnz(CA{i})
        Or(i,CA{i}(j))=1;
    end
end





