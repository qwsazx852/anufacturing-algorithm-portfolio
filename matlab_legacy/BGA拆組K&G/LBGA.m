clc
clear
tic
%% 參數控制
chromosome = 100; %染色體數量
crossover = 0.8; %交配率
mutation = 0.2; %突變率
s =1000; %迭代數
% asb=[18];%選拆零件(利潤)
% asb2=[1];%選拆零件(碳足跡)
%% hv參數設置
U = [1800,0.001];%每次需修改釘書機[150,0.001]，印表機[1800，0.001]
AU = [0,100];
% 設置樣本數量
N = 1000;
% function hv = hypervolume(F, AU, U, N)
% 雙目標hypervolume計算函數
% F: 待測的Pareto前緣，是一個n_sol x 2的矩陣，第一列表示利潤，第二列表示碳足跡
% AU: antiutopia點，是一個1 x 2的行向量，表示最不理想的利潤和碳足跡
% U: utopia點，是一個1 x 2的行向量，表示最理想的利潤和碳足跡
% N: 抽樣數量，用於近似計算hypervolume值
[n_sol, dim] = size(U);
samples = bsxfun(@plus, AU, bsxfun(@times, (U - AU), rand(N, dim)));
% samples=[813.293523774035	94.9239871198977
% 780.377979283542	36.3293462888072
% 1083.62891914757	99.9947319009657
% 682.093129268525	89.6382901733647
% 138.753119753706	56.9247233154663
% 520.374703185215	5.14791792916805
% 442.041722426793	14.4255280438592
% 588.865249878795	24.0808774665656
% 1188.71981403993	0.793274984244164
% 1075.88057449500	91.3371157865920
% 797.189143676325	1.94186615760893
% 173.541127785755	18.7946260547728
% 550.360925621529	49.3626207312393
% 48.8319456403048	34.1654779113493
% 1186.68954156978	38.8767944373733
% 1143.30865450683	6.35163773162056
% 987.224297079067	77.1058912541822
% 303.093488246493	89.7506277143691
% 878.083590081414	37.8400427608388
% 48.0416881625994	59.2999888873388
% 1046.71105698714	47.2236894198582
% 98.8372080117333	1.90811415767470
% 182.842778852274	97.3558496612051
% 195.069208680943	40.2802343436683
% 304.398000158970	72.1392874862080
% 633.664796430906	38.8244091088497
% 888.973438558260	39.0925965220786
% 235.304915859547	92.5655797229283
% 61.3710082474755	51.7817798614060
% 392.718228225352	87.3412083703261
% 652.857742751703	90.6272429791760
% 1065.17039304776	59.6823687809950
% 139.485784206299	96.8210194787495
% 1008.05399171776	34.1773730038749
% 601.462362678136	28.5339994963408
% 390.352875953075	14.4653290964177
% 736.103122614462	64.3450938118066
% 74.1715174741101	31.3013392523950
% 983.291109435989	11.7513464497402
% 622.429313513565	17.9154534247246
% 635.053859291617	75.6314955667437
% 666.261488487983	65.1221915444890
% 1053.26270030404	25.1658876875276
% 154.448297741889	24.6063970410776
% 1036.60612227226	64.2099122772791
% 1017.30873190760	68.6277257864412
% 405.491203705239	31.3968738882584
% 52.2635619901045	80.2450392286552
% 898.640254632255	18.1808800050057
% 341.144637554646	85.7402219439576
% 899.015993802042	66.1356798008458
% 1092.57260414012	0.266726782497614
% 289.008571367424	45.0086474814177
% 1165.65256254383	20.7938317216757
% 549.803529287615	3.28462970826031
% 1011.60671230673	41.1978333742830
% 172.766639727307	41.5716909898850
% 429.098877493582	58.0581906928193
% 892.247166612931	4.92737834374890
% 550.881668460746	78.3106167199139
% 1186.55834391179	2.08419856995602
% 583.260775591813	79.3024245988266
% 485.578935838172	45.2041394931154
% 895.786851237248	48.0045471408166
% 664.557173373430	70.6299574825937
% 12.8142715565273	54.6181307854676
% 356.815453215744	40.8969419259805
% 167.985569088871	10.5479888522193
% 341.081159908704	23.3259912305918
% 806.327349495277	55.6267050731340
% 1191.58838158444	0.147338131036932
% 1160.31974357776	10.4493226557527
% 951.109476606799	79.3443577196124
% 622.126793067453	30.3101883081978
% 800.881257310094	57.9815327640932
% 1139.91575752208	35.4647609614816
% 723.608095509882	37.6439322244396
% 933.844334254838	25.6401565073306
% 374.809057490826	38.5143838257660
% 900.561993122094	16.2458892433119
% 1001.06113558261	16.1777698584709
% 674.692339784071	4.04539294224963
% 637.746625418211	75.7586664693092
% 1070.89432178199	69.6468349988219
% 448.359380275984	91.9094980085136
% 1128.55094821177	63.7269453704640
% 297.741254198336	60.7960451690890
% 1111.27557804029	50.2866636678945
% 301.826497224305	26.8695982917634
% 556.485779011342	43.4481558717834
% 255.355685878819	81.2140992465037
% 995.573607400752	39.6708017360635
% 766.406031192225	40.3649459709613
% 733.939263597561	16.3222261973130
% 759.235547835951	87.7975749011391
% 935.151702056774	83.7915445395027
% 179.814533831371	70.3054894783608
% 1076.99905277682	63.0303578605554
% 555.826706100185	94.9826536722553
% 162.501501334209	4.84995007760931
% 437.096022335975	17.2832263731620
% 21.2783696154324	39.8135742578074
% 583.534031370012	26.0792935263796
% 899.963799112523	95.7895712094442
% 184.010780606948	70.2967870068154
% 315.598639111378	40.9080106900727
% 765.389420487472	70.0300065404744
% 965.538508956263	83.5285705003246
% 609.821153949687	11.7585393347958
% 757.002787111326	25.7037422351599
% 448.349985315353	71.0244271541293
% 620.000118118562	69.4630579312851
% 436.482789875574	97.5085787841399
% 564.639549970333	47.0482324284303
% 606.149208509468	77.4202297126766
% 1184.15336181960	48.3980330121314
% 408.293773708947	90.3873703777276
% 1043.55793142087	22.3037273600000
% 1094.56247314094	83.3871285571184
% 334.748445616064	70.8600030903155
% 909.186030310509	11.0577774406313
% 958.748238812541	57.0383262511988
% 566.268555152179	74.2120033297584
% 727.024173293266	56.9088605043042
% 1037.67336859990	13.8391059551547
% 236.293862150435	5.42157866251283
% 972.405645657109	43.2572220796605
% 946.603178330291	36.6425404773950
% 596.386829345219	55.0113758317098
% 59.8742610783442	22.9655956508761
% 1164.35112624470	22.5949600405354
% 504.522674980814	36.3527994899599
% 921.603379143534	36.3543332409712
% 248.181592671301	96.3829284843284
% 1044.30083454745	17.6765730362867
% 278.091402725323	60.1852419646750
% 445.894284611659	3.98918595867421
% 625.491017291145	85.0140361222315
% 687.098894619955	42.7413821409225
% 951.449916405598	87.2878896208740
% 230.138766603210	86.6622779239683
% 1133.20396932014	46.4371058051873
% 1123.66462808030	45.5551655953260
% 855.017293613533	11.6561778939443
% 289.589982084098	4.40107388489139
% 51.1336937456916	5.81677502751818
% 368.430318706548	29.0354031946941
% 943.153990320252	30.6188058489534
% 225.404170770186	30.0355655757182
% 387.045005171430	42.6709444165509
% 895.274313707835	96.3687351782253
% 1059.31356692686	73.1546801242363
% 1011.47666485210	2.22143253825681
% 646.228846751002	48.3026150250359
% 1085.34845209947	2.75429386061273
% 1003.30326803584	12.4476993818399
% 593.818841788314	50.1241347427161
% 687.583994037325	50.3153013874444
% 1092.07652682943	91.9669509577719
% 1182.51157344108	85.4775808986903
% 1130.46998262471	20.2752642186061
% 905.434108861366	72.8474868080891
% 602.424147620148	82.2982962272592
% 915.330789372233	16.7430004804277
% 725.557867439139	31.0243603868455
% 1037.35231915964	23.4381629882858
% 76.5459677228890	38.4866279686295
% 930.419103754841	1.78369267578982
% 992.832025953701	91.0408383226844
% 1064.14286586254	97.6467219970486
% 216.580196135676	77.7392115815675
% 924.956522976344	62.0204313495077
% 474.918997458593	38.1785953759040
% 849.079998745925	1.01359970869468
% 689.241375160241	57.1290359482665
% 217.932749815928	51.9414501475340
% 849.462430818824	8.38418909643383
% 592.655195586750	1.21091154156528
% 453.563696047269	75.9018861512332
% 286.614747416617	85.1524954117735
% 401.714410489334	5.32680536490803
% 317.644370557704	4.25864026338023
% 667.490342643493	67.5490311808151
% 1025.93703799036	35.7678716638837
% 919.821001259691	9.59191972567351
% 830.500820448817	28.2510221734414
% 28.8128008608016	14.2300383190767
% 757.595602076261	15.8501225776586
% 868.239976678901	86.1164859934527
% 37.6459409460101	78.5734876658191
% 858.028482137936	27.7108590698519
% 1089.25593843917	35.6391492831803
% 283.043134484915	31.6989299462612
% 241.297338395504	93.1803892855220
% 604.934405027702	4.50906316286556
% 200.819953135147	10.6875291786399
% 755.623779076491	27.8616530252006
% 452.741030511080	9.44290710450669
% 35.2423021220229	36.8230734850780
% 600.193119363787	81.1523065629866
% 54.4001750815286	4.71168176459946
% 1025.29693083827	84.2888271739483
% 91.6893088913176	52.5737575330760
% 135.404151417948	7.78356688189052
% 48.6156184331004	80.7009234962162
% 900.001728491451	9.26704429648110
% 473.553584872587	85.9822046834362
% 735.835452221441	47.4312591098310
% 953.582500070693	96.8714868789288
% 720.127561137120	94.8654182963836
% 1140.73296219575	13.1432420836908
% 378.033832687345	77.1564758201824
% 416.606977243364	54.6643495224536
% 885.920288996789	65.6287622984767
% 410.270260268500	63.4076647321733
% 41.2834727302374	73.5376675539533
% 335.995008400846	39.3956255979100
% 1038.29543756143	31.9528243662568
% 147.135953339988	96.8333505720688
% 1134.40937702073	74.8396907181378
% 693.366421782033	48.0378027035317
% 796.096944841713	89.7067287562447
% 56.1461620417059	48.3999874841653
% 1050.16634423842	57.5579644461213
% 1119.18936152786	4.14188131984969
% 92.6848176259665	1.50775278864357
% 503.937735744234	27.6379232784778
% 693.884342003147	64.0720268985325
% 278.471102299509	39.1791185630165
% 576.501584252868	91.0063839553753
% 492.617799477071	86.0931514414306
% 302.342134332581	12.4386231801721
% 950.871592396782	91.1211395186265
% 1165.98882629640	89.9933684862776
% 327.625677712096	12.7051019009614
% 1005.60986399451	30.9537902804880
% 207.205238534147	21.5060896185498
% 861.247005379546	69.7792615338723
% 927.506839942029	75.1218390798471
% 123.127714473830	7.09875406490804
% 356.504875945550	32.9759895620113
% 332.846064521537	0.0218083082171319
% 367.664910494321	52.8013407628446
% 564.879704316476	76.8492821173935
% 785.062194180531	52.0213673365291
% 55.4188790745040	48.4695909328061
% 13.9267179293930	26.8209769100571
% 908.088322855427	9.51431113630923
% 445.107831222453	96.6150167166002
% 1038.53266078830	23.2235710366252
% 474.985813220958	10.0151914434438
% 1077.32474637125	0.422468775046227
% 1189.90617955388	20.8447158244259
% 611.727488131699	24.8335491511622
% 721.115447713121	87.2916615764423
% 821.913391583855	68.6676159678681
% 968.492631719298	25.9137667245642
% 882.399420258666	13.0084399072820
% 239.536156961333	59.1159798917263
% 762.503128128214	10.7480809325211
% 36.3111482888785	72.5775828921441
% 275.063747291264	3.08852524741887
% 484.819557267977	65.5559197323888
% 884.218921278531	14.2851363064008
% 983.425568448873	85.8004068614984
% 884.255432655051	24.8903034341655
% 273.653474446986	98.5180884388842
% 499.539981470194	5.79347204244418
% 400.483668348466	52.0737939198361
% 270.615529122218	57.7962161656484
% 900.897769739732	84.8871003340248
% 962.223426406467	72.3898418863968
% 692.011199336555	16.0822296459285
% 357.336907019046	80.3147418882933
% 1148.33130612490	41.4565996429343
% 747.973291252999	59.8528567315370
% 62.4241865212397	56.5250140964317
% 708.329252053102	43.6952556774818
% 328.971475002177	31.5383777877056
% 497.739202672358	10.0593808764928
% 598.569968862927	17.9363419269805
% 700.381662437581	58.8947358542495
% 423.287767399484	80.2912750119125
% 812.272672809954	32.7791530569572
% 480.480620861512	85.2821534392850
% 180.449232472870	12.5492502954307
% 460.392978970454	39.9975922851039
% 920.324495130458	7.23541123957531
% 35.0187255189280	0.330221725198342
% 727.510544698234	28.6426730066447
% 374.890505430320	12.9195510300541
% 1116.96639980136	38.7531693163064
% 871.105953849444	9.86793066377007
% 603.701538171516	50.5475484436622
% 1155.59240135229	6.33216920099932
% 1066.78673568001	27.7474989063805
% 854.939304032288	83.0106748536011
% 13.4599971336419	86.3564342768718
% 846.028860984712	96.2675237007333
% 269.267022760562	11.3497214106256
% 255.554916776269	40.0338517587129
% 293.817242468171	87.4375186389834
% 939.050895573349	90.3651560333971
% 1193.21408277756	97.0398781578118
% 155.752200424258	19.9447239319836
% 1042.90564278312	76.9335787155222
% 368.031653154630	36.0879646964781
% 1065.84036724190	31.7738552103371
% 781.878134063851	42.5354357974879
% 524.777059049142	60.9770524729027
% 659.257927146878	51.4275105299137
% 457.864006181729	69.4725007823491
% 1148.11801879742	14.0833136383281
% 1079.97605481119	65.4493619862642
% 419.122928953517	37.6574309695861
% 1065.53665116255	2.38146806108996
% 308.360662203859	51.4887840404513
% 509.924500876095	30.5930024288734
% 716.855454373985	46.9830526564496
% 346.951309590747	13.9943251216578
% 654.148352874756	34.9877708296737
% 39.4092876888120	87.8941690076311
% 1122.14880694181	85.2086497705365
% 449.890052855860	23.5125662013016
% 574.146268132013	85.3160608263415
% 1076.91676732956	44.3013716077845
% 515.034136891706	79.4206215186578
% 1192.59329091010	64.8578241903988
% 514.853827449012	9.98753279441318
% 967.311412756221	28.8672255651730
% 985.245463162532	24.0662286220112
% 704.170901296416	13.8127619147136
% 863.517539006436	46.8978306871583
% 902.621721681588	67.3459411685413
% 1174.70496020429	14.4090732223774
% 217.464045578940	93.4816209450714
% 280.974299478470	76.4359410131870
% 704.667905668190	33.0935017695222
% 918.457028255328	89.1095096769098
% 581.166407553615	58.5573121474002
% 1070.67763992919	55.5592824279105
% 243.310422531234	51.9285175080937
% 150.538791354973	26.7536868049110
% 981.537190562829	50.3539644820583
% 720.588915407830	34.3404129066047
% 247.816469471386	91.9751566493957
% 417.516006912267	51.6155462226660
% 24.9228344683930	3.49243497277404
% 1031.30408503476	88.9613467032298
% 1000.12802937982	55.3133752075529
% 201.980365972613	46.6459903214049
% 913.979239336253	51.3744185077234
% 959.125232664109	42.6645768633041
% 1109.70882052701	43.4375114850749
% 545.783376619083	66.3624722253064
% 22.3295240572118	68.1725517861746
% 66.0626756059303	84.9996917296084
% 1005.32388421979	21.4490323849808
% 379.680215925486	53.1498145453207
% 423.067938823155	6.28663361981583
% 254.169302475792	17.7037198631905
% 45.3138059165258	85.8898442822285
% 902.862425155098	56.7010677381031
% 356.373761166736	86.1784534276092
% 999.561467212289	99.5448432276191
% 236.734906224003	92.3473070128392
% 275.179162773928	78.5393871292463
% 475.063562658479	14.2665500562505
% 170.667589424527	51.8949467396392
% 1189.51591159600	54.7309210875026
% 66.8259705952050	90.5803326168937
% 1022.47705796835	97.0026614224826
% 883.662729038909	45.5148958830262
% 120.477336563625	2.28442769610801
% 1127.75001133935	97.5098900345721
% 344.176978874427	25.0009595629883
% 246.878782577001	56.7357246147217
% 208.971398125604	56.4619267256822
% 563.558781891107	59.0355802814837
% 261.889049014579	74.8544284736590
% 682.238177425226	42.4645311430323
% 443.962245107354	25.8269293648825
% 743.016874009411	85.0008335847334
% 148.288421612926	40.4481366571655
% 336.989900832452	38.4156819003833
% 931.923057930027	63.3828477106441
% 1137.62498153882	31.3619791637290
% 331.774484797094	15.9980982613662
% 108.125620204689	7.25096025702123
% 636.442639267864	30.2817229854723
% 739.179276663100	55.3897435181923
% 13.8051622201538	15.7818647547369
% 985.899711293795	88.2869494458201
% 916.212284569099	77.0229405327973
% 137.355750581153	64.8663145803451
% 530.598269581173	1.91464536461982
% 299.681992214024	15.5050743668351
% 830.695565776767	49.9284733387326
% 1176.46277749851	41.0415792006191
% 568.785340704977	13.2592529991007
% 1100.59294345945	54.8484511385129
% 137.685772317855	11.6804314146149
% 1123.91701293789	70.8701972584575
% 792.617866273627	38.0598605767559
% 863.559969112147	75.7677063843428
% 449.523933070835	29.2979390160967
% 1177.54586831952	21.0297611640009
% 185.779179521869	77.3177818700542
% 668.873753159657	49.2242559878441
% 240.024005505858	12.9537977706364
% 694.939085716517	73.7779571162221
% 971.078642043200	83.2511014517117
% 594.459980206892	96.5124904141201
% 582.912497208990	99.7140585330191
% 96.8958110705472	39.1275033195573
% 895.784825456484	52.5763124170875
% 1026.01434518683	62.2682151412643
% 275.327670124371	51.4021806496671
% 217.891621068403	83.2735385485744
% 938.876035312400	75.9361223601981
% 586.600161880962	47.4599116370391
% 498.069224961455	51.9791244042295
% 399.887097678087	83.1456166758535
% 781.401460742745	97.0641564785009
% 944.750243285037	34.5416406519214
% 114.697222830431	78.8962226099278
% 440.443231572398	82.9051050874337
% 753.685860053307	15.0088522559624
% 648.081865052838	34.6679960169477
% 686.617350498048	90.1822221765878
% 1044.88603421446	91.7031190431646
% 340.679053476177	64.0899317568220
% 1028.74374493246	96.6949666895604
% 1138.32646132913	24.2562438027530
% 1020.29917358862	25.1158342981221
% 327.345400259388	39.2773004297056
% 159.010299059745	93.3249186004307
% 398.475704710797	7.58002777779159
% 492.789646301570	15.9674383259270
% 380.972272582956	0.639876566386675
% 36.5060809199226	84.3387074196280
% 1155.45471404397	91.1547268308167
% 351.658763015139	82.7236145070947
% 54.9373097729239	75.0691363177251
% 329.009795673571	47.2702957562353
% 63.1527762294810	4.62520517452950
% 134.983042414067	28.0130675894279
% 873.710024624823	50.8234270893985
% 202.595289977055	9.13139546466132
% 585.134544008680	87.2784038528027
% 142.019750287757	4.91787101415282
% 384.016853844070	35.1238370104296
% 280.810926274275	51.7879479826521
% 446.398829070088	34.6504778448310
% 390.677839554745	33.2156105355573
% 380.438663373247	49.9622646088401
% 679.849653274150	21.0141850772136
% 951.661197673342	87.3560420258596
% 570.885985168678	19.7454792182984
% 715.448506082694	88.1285866132417
% 927.476746055298	81.4560913742071
% 741.888800676187	89.8559267503092
% 888.829615515307	67.1072440264179
% 440.366034604119	23.1721889762138
% 251.187675044277	88.7479535588130
% 1193.10760842822	70.3496928228740
% 1095.30142195498	12.2010079035747
% 369.828640461515	4.86975011508837
% 549.517163912124	2.77512326097174
% 557.753857414742	63.0647593330760
% 698.061203524789	85.4563848409800
% 151.487391284166	3.67602566039926
% 1068.60840967588	68.0170161067129
% 585.308223438277	3.48227142527236
% 738.551352954206	28.9334566530197
% 1007.22170731834	52.6147688982069
% 405.194810763753	60.7554856172889
% 523.120281807553	1.45591684734013
% 416.503023306963	66.9300877172858
% 304.228757223317	65.6437619805480
% 82.6395005667079	42.1486665941818
% 1071.30463737357	87.0730804843420
% 657.984905300805	66.2423609807600
% 448.772111470989	19.0857280006296
% 711.349303006592	57.9556447838840
% 418.787523415741	95.7541567830933
% 619.016928912541	69.2181119473815
% 136.911797873387	97.6686483931061
% 217.754274413426	8.69529485618470
% 737.984887204917	51.9556506214111
% 829.771520907834	91.9642250486226
% 987.493756971036	14.4679823547653
% 260.880132321285	66.9697276070345
% 35.3945618318884	32.8567336741914
% 1120.40710380194	53.4151049395724
% 480.560492635304	71.0738036521371
% 1186.01179296086	69.7912592085856
% 653.863949013605	74.1308927452246
% 138.628944628798	26.6138785656470
% 231.735638107840	54.4005183620311
% 286.868674276176	44.6995039437593
% 584.443168649264	10.8657191358514
% 1064.83198066959	54.0632284895980
% 1016.09122450271	1.61731590105960
% 750.376163983755	55.3050166035571
% 330.070458043719	38.9706368794388
% 465.998545268610	56.9048776598180
% 445.850879919316	1.39194496643299
% 165.532017273646	74.7054084693752
% 30.4259493102359	93.8738175683085
% 1041.90541926836	61.0624099819482
% 259.747478696148	17.9582612675195
% 252.920388447927	25.2246769809105
% 101.631816169792	19.2856180041205
% 1039.72111502807	96.2719296255267
% 537.664934081877	89.0446299432078
% 415.565315880347	14.5908353838637
% 405.450885871970	82.8133022730368
% 112.625707139363	27.6337313112388
% 1152.94316394579	38.6340760334756
% 1024.84882721721	29.5167268247121
% 181.642384991644	21.6659864005126
% 1170.13994685692	81.2998668463895
% 1062.47509090372	21.1160117762566
% 293.074444769192	55.1522977648741
% 966.178371973249	75.3159972429655
% 3.61762722270549	76.1025146757250
% 760.741811641756	22.4178642127166
% 571.629676935772	61.5853975419480
% 363.233907323576	70.1851377291717
% 1059.81822454807	36.8208239173802
% 487.323188709677	92.4608038706144
% 497.046795795023	85.5656433094768
% 392.803948260512	30.9959107660197
% 365.964074847381	10.1839116197395
% 627.461849219097	54.8222461818388
% 1133.42261695604	66.1284602929683
% 158.875935470065	47.3996616042888
% 1071.21402189109	2.23667320399942
% 129.142168356220	62.6656236651187
% 925.383919664329	39.9503078284556
% 919.278969063484	60.2175399366723
% 156.187526944230	98.6618277884966
% 1186.51278170621	84.1311581288548
% 540.764808055783	92.9002050854429
% 1035.11319304096	39.2047085077946
% 218.919725484373	56.6288653136112
% 457.342191688457	42.0942528025745
% 310.849199567756	74.4074200304446
% 363.868533721538	34.1552892487031
% 342.514434468589	55.9084949162218
% 582.020834698071	6.21582581111119
% 33.1689525551691	71.5210205456575
% 785.088619148710	87.9866580557543
% 516.962924036958	60.4855674846905
% 565.168082180776	76.6035079932246
% 1122.46321795161	58.9112917836340
% 91.3109202403206	42.6999277542896
% 622.984461501862	92.8630741254246
% 244.149154580107	58.4041114574081
% 1089.15049183315	60.0677715372543
% 216.685999062935	74.9574065310119
% 914.147276859075	98.7345313199280
% 1010.24172865288	22.3998785538701
% 1006.70647621784	7.06336087272014
% 312.489639541000	72.4348242925926
% 810.942392490363	61.2980893965423
% 700.074108129573	58.7068044035232
% 720.015772892327	20.1172228556176
% 400.514754917648	4.70095834148579
% 437.348984733101	83.4678997336125
% 829.294427537996	95.1080423484519
% 863.683552742437	90.4986657940315
% 300.041593895994	35.0744162404732
% 18.5418312316945	18.4570774396966
% 113.605584502339	80.5972072098834
% 111.957552461677	95.0684615134473
% 1095.29678399569	20.8645632578117
% 275.878322134007	97.2836339832785
% 690.649017667633	32.9131355251760
% 737.713801813649	76.3139199684089
% 857.320252786912	96.9842198166218
% 1155.09170510184	69.2297470495825
% 958.009566776761	22.0849479015389
% 1015.40321132159	48.8124873826890
% 416.481345998145	0.449426276225069
% 296.627719131050	93.4873963423995
% 77.6586813523506	1.26226082410361
% 891.478945615056	47.8246406635905
% 414.766436494535	79.1223994570770
% 915.116250094685	64.7212324496042
% 555.740611367763	64.0868771405173
% 38.2027398659680	84.1326425115319
% 588.807297941309	69.7496405880138
% 401.274651020480	68.8091388285076
% 627.817900545160	50.2723016510248
% 644.275801626409	3.38237282095639
% 727.561815216723	51.3379296469397
% 1079.06664093625	75.8682641311631
% 899.068036487140	31.5194627763211
% 115.704752717371	6.97276336982257
% 1142.79708047015	47.9104099336627
% 150.309206661218	64.5467705308560
% 769.378460785873	31.1529981470387
% 118.158025379582	9.79023841382087
% 1172.56453344036	18.5176088719944
% 61.2779995510184	65.6294444490628
% 315.448360316308	27.4324361830897
% 1181.44335525293	88.4839765975518
% 626.054415954419	62.3318730155230
% 719.002153513174	20.4308800421103
% 1134.03658288356	0.407564245912681
% 144.698293464236	1.82661899149582
% 44.7612688543352	92.8201493745466
% 221.470053253467	7.47661105245736
% 896.314244935679	72.0284679156265
% 92.1978241573064	71.5259980717467
% 216.037700158398	14.0541878275243
% 1007.00978834551	15.1114725525389
% 309.214477059628	94.5921273960796
% 1144.75680697468	99.2443880006788
% 387.436058665757	79.3915876005420
% 760.788877355949	29.1519794730838
% 31.1647031573034	25.5664491043228
% 869.427139100463	65.6910593558966
% 1129.49825801610	20.6079307032715
% 328.414709001825	67.5876109602336
% 46.9853793059267	52.4558896989055
% 936.109651100212	73.0228411286468
% 187.233208116963	0.259057606141582
% 854.112448137619	20.3693342872753
% 361.728080132075	82.4805711868009
% 222.415043934693	11.2838823829688
% 577.236282384184	45.1907248326281
% 467.317091476604	24.0980283988934
% 907.350463362054	10.5669809306494
% 1049.42472421244	83.0955030469151
% 4.66577521081106	46.7012205879525
% 224.954284713198	30.9369943668299
% 475.305747317764	48.6151301416887
% 361.452805294893	60.2287900367884
% 461.060378897978	72.2532693274389
% 640.397463866612	31.9497692563679
% 1005.99575529748	18.0710653606213
% 890.622302683905	41.3449679430621
% 150.351825319016	29.3751680921874
% 1073.64665385531	2.66047717464321
% 555.297204292981	84.9076721523725
% 605.181693478938	76.5077347009553
% 25.6766679746702	87.4235094597791
% 456.123915425203	47.7923354279928
% 740.746235415483	78.3164908948708
% 574.101878190304	57.5529289991889
% 1184.13533643591	83.8311251291240
% 1139.59674543407	82.2590034984909
% 163.325383394777	23.8193647718512
% 1192.65626162908	75.4475465960398
% 690.222552544778	18.5813319516036
% 845.318096869386	21.5663766911600
% 816.039435195861	76.8106258543644
% 1099.81622552025	87.4074960340756
% 321.449342580192	31.7147983757519
% 205.143776382936	54.7832039977070
% 684.474259055858	33.5962195275295
% 838.088487097199	27.1692744226595
% 423.026958361722	63.6971029224692
% 823.529790688328	91.8847755906361
% 399.707417618101	93.4502269104545
% 269.571936062766	99.3611274841518
% 1119.37662740721	79.7952412591190
% 420.443480693424	35.5691980102775
% 34.0986920347917	54.1239868385660
% 441.140796156855	10.2216772050872
% 298.160734387425	39.5876326361063
% 884.668795440124	23.8686266603673
% 186.150099289345	74.1900141398764
% 257.655988481865	56.1701475228821
% 204.443570693017	41.1254636727188
% 689.279279587117	68.3647096749215
% 395.605303817281	18.9415017295630
% 54.8119314581072	89.5003458487315
% 14.3326532624846	64.4410195796391
% 381.923504074311	20.8743419556670
% 825.964381150092	99.9241236633586
% 49.7077784162424	35.2972432346598
% 1112.61840934713	20.7722057287663
% 895.274887157914	99.3370897808784
% 343.608153184437	11.9479048382026
% 335.505295410879	24.8644750288693
% 67.3822077630576	71.5234692066144
% 566.026457509968	96.1679433143027
% 1116.82709228913	45.1166367569192
% 804.273669047217	32.2954822802965
% 984.556116111909	16.2849951376131
% 813.652801081453	3.92118448175454
% 1137.63034589594	59.8570238318700
% 909.722706474782	84.4123570283075
% 890.795348123840	38.4438869023107
% 996.687647820063	24.3567741099530
% 856.548075591135	71.2080115826913
% 796.243375507851	88.1910541646136
% 16.8234718599919	2.70325502801248
% 728.596720993925	26.6083828439982
% 491.058260159854	68.3309983347419
% 619.457906197122	7.68417809229906
% 908.315363778844	20.7478805082762
% 275.498656920019	82.8490499178796
% 1117.71842913495	10.3531561209686
% 1012.49846758225	22.9520318013976
% 273.658137294003	65.0644430874794
% 452.887927821338	66.8414714509088
% 299.330512232001	55.6460011454173
% 967.000629134008	4.09833584904709
% 25.0265595872501	10.0584949518171
% 309.624382847922	23.3060002920449
% 719.033098778257	91.3375888611241
% 906.861585895934	81.3184531330312
% 718.419152008458	29.4660933060433
% 771.220231321541	30.4407633135813
% 1035.39506822854	64.1325070067226
% 334.336720040639	32.1683120373591
% 728.253749158475	44.3879613179223
% 880.350146424155	72.1654593735016
% 112.439902682237	17.1763613199661
% 572.997667393122	34.3145620732080
% 1165.53878106272	68.8369888375304
% 906.746815230866	39.4502100386903
% 70.9492828297848	16.5512603977884
% 986.575475799580	9.50746488530432
% 237.298371124210	96.8072984431274
% 90.1950500764673	62.8396240992594
% 1005.21760714581	93.1363234615101
% 454.685303353705	92.2013817141426
% 181.164832787790	95.7032767103306
% 1027.58824486517	12.3505321795529
% 354.641847292120	29.5806827210256
% 242.721608371575	26.5393831391063
% 881.911209435061	36.1826393503287
% 465.579412809002	89.7045116955785
% 1011.19812693705	98.4907078380443
% 624.738057437321	5.37259732966486
% 825.225252131177	99.7452386578208
% 120.869069179258	26.7079349096488
% 179.627096697592	78.6556490387588
% 139.079703549610	77.9700483002212
% 850.947346373060	48.2005773331923
% 497.106462957893	32.7083136568828
% 410.612659576213	95.0958980490544
% 781.448970263573	86.3593001797483
% 1170.24050059168	10.1951788577092
% 513.706871399380	30.7209993020875
% 654.895387936217	73.6908389344765
% 282.174501691079	31.7404648180773
% 898.287276290812	69.8132393818859
% 803.348184926749	46.3953521335609
% 205.571112692501	40.5408371948371
% 1127.24446175380	4.28385503857153
% 159.936342936100	78.9302269457450
% 210.888151533157	66.9112792684786
% 53.4493591810803	97.2453287833276
% 814.419458421844	86.0981086743350
% 808.374346414778	37.7613377585182
% 193.368552307760	58.9127781682948
% 325.153504871596	12.9945338508068
% 634.933059992103	77.4154733812175
% 965.897283721471	70.7782983949263
% 569.415102624605	49.8284972385688
% 541.186441144534	29.5115155367365
% 970.926469326701	61.9961299866010
% 87.1212116141882	90.6765462193692
% 368.265011577421	11.4357291422940
% 228.586844407165	28.4208941113216
% 709.801121816219	10.0715319429974
% 794.630416765331	37.1196845470001
% 115.842664161441	69.6101629890667
% 275.414989127459	66.4138474801712
% 740.809558578962	18.0042443415795
% 956.514566172165	43.8305133799211
% 424.255174420241	15.7713479567452
% 594.510906302423	76.7739293943322
% 536.579213392490	10.0427821170254
% 143.408075320650	90.0599759377921
% 804.197875617698	81.3113980152323
% 575.064137236780	79.6643683928401
% 193.957641766566	27.8157542926307
% 381.724308352621	54.6091861310724
% 479.719280756707	75.1026600353554
% 8.95094311812921	60.6763874493571
% 62.5622923497418	4.05493119644522
% 510.298001063331	45.9478030753310
% 856.223489698173	52.1809553827642
% 428.778332001364	68.1830295828968
% 1133.60056998590	97.7157358405095
% 67.9402630670219	60.5781527690590
% 1046.73620602159	1.64217852384867
% 328.672403637137	18.0761329437913
% 127.642327331635	33.1076480344016
% 814.742096275119	50.8758966027554
% 1026.73689023329	63.0559235367760
% 243.809135538293	41.5687872717937
% 1053.23211072929	18.3021992318583
% 709.583077965318	17.7776293132898
% 773.751562184703	49.1438131504779
% 569.862592742823	65.9368325113575
% 1181.88014630317	87.1145824133142
% 390.239695231883	51.5882806093757
% 663.936891297604	9.63285608953470
% 180.404628404427	26.6841804574720
% 833.033923938505	84.7004986409425
% 1073.12380580510	43.9929986474629
% 917.129451417003	11.9261847913239
% 167.878647151661	63.3638241532110
% 806.015335646805	69.3805715418911
% 438.256242538041	28.1056395308886
% 946.726891570561	87.3335460176209
% 621.786107417921	86.9949533882161
% 34.3931909882017	10.6552071401990
% 580.278142168086	1.80108584166190
% 203.508729430491	1.64855245577930
% 284.147340901094	65.5079027237022
% 1190.31354241037	26.3653411844389
% 1067.91213147399	62.9360955578070
% 79.2931137887130	15.3852103651359
% 486.534426944424	25.4118942600091
% 760.604897701726	38.5596070511214
% 519.837189957050	54.7145519810994
% 678.922900886835	64.2104014286556
% 150.463564441612	89.7157706110128
% 271.254289062813	57.4724029897681
% 143.919183289954	88.3829087633227
% 1033.96662526204	72.8284324907258
% 42.6825492742044	16.0180280233878
% 214.575192214268	59.8692031319999
% 1.63571432991541	66.8604789162785
% 706.859263756158	98.5340062442951
% 954.026911012503	91.4136846889394
% 70.4972446598467	52.4093981452364
% 315.791726067596	46.0108394631220
% 989.744301869566	91.4409472177647
% 1057.72087606768	8.55907210604993
% 376.023763969649	20.6010689226814
% 220.646970431434	24.9410348044329
% 259.536073943865	1.06617842823982
% 690.825512300839	32.2740958946567
% 982.576795430418	80.7301764651474
% 187.495689251073	39.1730024475224
% 1192.96020093755	24.0283247107737
% 394.509751545884	38.0135298218092
% 833.312332485800	69.1199997963663
% 1003.04444996625	73.5180346118671
% 495.438871452791	46.2295056485002
% 986.494808058673	7.64867349268960
% 387.986419595062	13.3520908815391
% 216.456902035440	41.7961955956306
% 679.495741354023	29.3551576034219
% 589.512059300609	49.5592780359490
% 981.041412117204	38.6370790428428
% 191.683364794180	5.55665940047693
% 562.468846377466	4.64956060063027
% 1059.91410225682	65.3233331515642
% 101.983129800760	73.2189232520143
% 861.678184576427	5.68096348136447
% 1059.76861185828	15.1596937390806
% 421.299462870423	56.9027945110706
% 662.733928300017	86.0584070481046
% 693.313284119046	58.5363078498966
% 809.369156774921	0.221958273709575
% 404.182961528005	7.37530085401693
% 585.047649209527	91.2471544451898
% 388.544537613970	1.59780455413954
% 542.423371799893	29.2445791317889
% 98.6271007178047	47.3122862557079
% 253.024689560448	81.7095289928227
% 154.649584722395	89.2392381532488
% 914.856575588112	75.7296753982322
% 727.671734357390	75.7656082568054
% 714.989807895852	29.5917162383782
% 601.427768137421	97.9641804711809
% 282.905984534826	49.3119447204605
% 1091.01155178436	8.03290891223142
% 529.633180641333	3.12987348557870
% 925.453187729982	67.1213728147893
% 1067.61327183439	26.5520052298298
% 436.056667502365	48.2211662052033
% 1085.80807764843	36.2445174136860
% 128.826549300685	77.6706217942019
% 410.710999242233	49.4949120500625
% 322.833483420798	2.89030471533255
% 435.921585438075	33.7228921863642
% 103.324034360091	37.9119922857364
% 237.148905559823	69.7076695721946
% 1153.41676554145	72.3381653639523
% 410.635149939682	4.27961052975401
% 296.572605593884	53.1251114269397
% 507.417505959946	63.8858727196183
% 1018.02145864783	36.1591270488508
% 202.999884987606	21.0474238344390
% 276.705108123490	76.2656957822798
% 936.929057738821	42.6211442110371
% 956.768196751938	11.7566352167618
% 387.424017239583	94.4717621117402
% 715.867927286218	78.6271285126880
% 204.817395001689	46.9687875169993
% 927.676245788881	5.00454466102636
% 737.693071458218	79.8619254554639
% 787.186005669806	50.5418341194351
% 1189.02483853501	13.8816435886448
% 104.114331515863	75.6034293906864
% 116.294741957992	18.6191142674364
% 685.081644217678	95.6180477768165
% 593.842036422241	87.5637567645615
% 257.412787283551	44.7072684964993
% 764.688639646647	61.6828423210647
% 596.796221623109	3.29496310716863
% 930.097059902403	46.7910010487107
% 7.29163663076005	80.3539555195342
% 636.489995268370	0.310843235530527
% 698.136077601274	32.3448766159040
% 293.982712249807	40.2544207446175
% 1098.25910969634	62.6764003186933
% 3.68203359051571	83.4626657491292
% 665.190316750848	49.8619551164587
% 623.579238177700	52.4882938526026
% 1022.31146090943	16.0461323991383
% 533.856721782884	92.7830477796743
% 358.912555519258	97.9485175199788
% 451.360975954995	65.4018335662090
% 424.968666114146	61.9475495928638
% 971.023127671601	43.3199280640278
% 1133.53773384396	92.6206117074374
% 248.030818775920	82.5269263365515
% 694.749810149508	27.4627846941164
% 1084.44305406593	60.3773333434469
% 291.855260216519	45.1823834245413
% 1123.91670874689	49.1380304538264
% 778.729393300418	67.9845009282994
% 1103.61364733937	31.9619127535811
% 627.305483954194	97.2116622949932
% 1100.52133226768	49.8682796614252
% 1074.43762384135	89.3857274786398
% 943.258691627951	74.8616822971075
% 676.264362394906	32.1615631578823
% 647.735783500142	43.5457812136628
% 206.342160941601	95.0952968753479
% 99.5204752380204	76.0163187908278
% 1075.72925111996	22.1196400881157
% 370.347593377142	49.3539183366072
% 359.627609722521	43.7721597603899
% 270.993928044222	67.0185695033413
% 349.544859112582	99.5836932457813
% 816.625041060930	89.6181340898532
% 905.809958544489	93.3531382931180
% 296.663171279549	92.1296980778803
% 348.700167462085	81.8744082278243
% 314.617946051324	88.2497796178032
% 516.663343268699	84.2318865193838
% 393.149923472432	18.5244324840241
% 476.573115128508	97.0753838414160
% 383.370908207519	64.1569134361747
% 934.655084137824	57.8210406644817
% 891.754118567380	76.1584192521228
% 62.5047644902955	88.3469807212500
% 237.335913120162	46.1897195056930
% 1156.02211506976	83.4993831581527
% 1116.62071638796	90.5405877863345
% 447.052888004720	60.0254101743099
% 183.729077696571	0.245811424636642
% 70.7486112623716	65.9964782562277
% 314.473218785135	67.6137251312743
% 1120.50652249341	53.4662783248851
% 1084.51845923354	69.3333766759103
% 667.457759878786	54.7399444216928
% 97.3519940664316	56.1491201108748
% 1193.33890186402	43.8277310429205
% 961.061282151215	76.0297095014355
% 879.503326122560	37.5010423568165
% 490.300368802579	37.4443848820559
% 426.596840945787	14.8312072585578
% 962.590386543072	86.3875886862356
% 451.218824258253	57.8044013064531
% 851.243527497462	77.6716103954317
% 1131.21939725549	11.3825232562952
% 888.631233560239	38.5196274496979
% 910.201050773677	68.1623081306088
% 861.807381357029	47.3117937973098
% 559.119053545900	40.3067267618476
% 317.452579841901	96.3183867203306
% 681.019394316169	46.7681296610775
% 516.395915592463	34.4181179494555
% 19.3919200476576	88.7236841860716
% 392.694703432837	13.9190404786314
% 305.415664328901	47.6628464429839
% 772.884328046119	2.55583569891503
% 685.221187479423	73.8523676275881
% 984.937199752827	43.3823148278442
% 229.884379896488	60.2381670086212
% 138.512270083166	88.9368206179366
% 732.097337087278	20.3935293863794
% 360.692316091643	10.1014709782691
% 238.248113919158	68.9515793352262]

%% 釘書機
% n = 18;  % 工作個數
% order = [3 2;3 1;4 5;4 8;5 7;5 6;6 9;7 9;8 6;10 12;11 12;13 12;14 1;14 4;15 12;16 15;17 15;18 10;18 11;18 13];  %拆裝先後順序條件限制
% order2=[1 3;1 14;2 3;4 14;5 4;6 5;6 8;7 5;8 4;9 6;9 7;10 18;11 18;12 10;12 11;12 13;12 15;13 18;15 16;15 17];%組裝先後順序條件限制
% reuse=[2 5 9 7 13];% 重新使用
% recycle=[3 4 6 8 10 11 12 14 16 17 18];%回收
% T1=[3 1 2 3 4 3 3 3 3 3 1 1 1 2 4 2 2 3];%工具
% T2=[2 -2 -2 2 -2 -1 1 2 1 -2 2 -2 -2 -2 -2 -2 -2 -3];%方向


%% 吊扇
% n=26;
% order = [5 1; 5 2;5 3;5 4;6 4;11 7;11 18;12 7;12 18;15 7;15 18;16 7;16 18;19 22;19 23;19 24;20 22;20 23;20 24;21 22;21 23;21 24;26 25;4 7;25 17;7 8;7 9;18 17;8 10;8 14;9 10;9 14;17 14;10 13;14 13];%限制排序
% T1=[2 2 2 1 1 1 1 1 1 3 1 1 3 3 1 1 1 1 1 1 1 1 1 1 4 2];%工具
% T2=[2 3 -3 3 2 2 3 3 3 3 3 3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 ];%方向
% %% 印表機
n=52;
order = [16 50;13 20;13 19;27 42;1 46;8 9;5 6;45 50;36 52;1 45;27 28;13 25;33 41;13 24;13 21;13 22;1 2;2 5;4 18;5 27;2 27;27 38;27 31;1 3;12 13;27 40;27 41;27 43;27 37;31 36;1 47;26 27;5 18;1 51;10 11;5 8;5 10;13 14;28 44;13 23;28 29;27 39;49 50;3 17;48 51;19 24;20 25;3 4;28 30;32 40;34 42;35 43;21 24;14 23;2 4;26 37;29 30;5 7;27 36;3 15;3 12;22 25]%限制排序
T1=[1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 1 2 2 2 2 1 1 2 1 1 2 2 1 2 2 1 2 2 2 2 2 2 1 2 2 2 2 2 2 1 2 2 2 2 1 2 2];%工具
T2=[ 2 2 2 -2 1 1 -1 2 1 1 1 -1 2 2 1 -2 -2 -2 -2 2 2 2 2 2 2 -2 2 2 -2 2 -2 1 1 1 1 1 -2 -2 1 2 2 2 2 -2 2 3 -3 3 2 2 -3 2];%方向

%% 程式撰寫處
a=[];
a2=[];
b=cell(100,2);
b2=[];
D=[];
D2=[];
x=[];
y=[];
f1=[];
f2=[];
Or = LBbn(order,n);
% Or2= LBbn(order2,n);
T22= direction(T2,n);
for i=1:chromosome %隨機產生初始解

    RR = randperm(n);
    RR = LBrr1(Or,n,RR);
    SS1 = LBss2(RR,T1,T22);
    SS2 = LBss3(RR,T1,T22)%選拆
    a=[a;RR];
    b{i,1}=SS1;b{i,2}=SS2;
end
for i1=1:s
    i1
    if i1 >=2
        for i=1:length(A(:,1)) %隨機產生初始解
             SS1 = LBss2(RR,T1,T22);
            SS2 = LBss3(RR,T1,T22);%選拆
             b{i,1}=SS1;b{i,2}=SS2;
        end

        for i=1:chromosome-length(A(:,1)) %隨機產生初始解
            RR = randperm(n);
            RR = LBrr1(Or,n,RR);
            SS1 = LBss2(RR,T1,T22);
            SS2 = LBss3(RR,T1,T22);%選拆
            a=[a;RR];
            b{i,1}=SS1;b{i,2}=SS2;
        end
    end
    [a,b] = ppx(n,a,crossover,T1,T22);%交配選拆後    
    [a,b] = LBb(n,a,b,Or,T1,T22,mutation);%突變選拆後
   
    %% 擁擠距離
% %         a=[a;a2]
% %         b=[[b',c'];[b2',c2']]
%         [f1,f2] = LBUN(a,b)
%         D1=[D1;f1]
%         D=[D;f2]
   
%% hypervolume
% %%hv參數設置
% U = [350,0.001];
% AU = [0,1];
% % 設置樣本數量
% N = 1000;
% % function hv = hypervolume(F, AU, U, N)
% % 雙目標hypervolume計算函數
% % F: 待測的Pareto前緣，是一個n_sol x 2的矩陣，第一列表示利潤，第二列表示碳足跡
% % AU: antiutopia點，是一個1 x 2的行向量，表示最不理想的利潤和碳足跡
% % U: utopia點，是一個1 x 2的行向量，表示最理想的利潤和碳足跡
% % N: 抽樣數量，用於近似計算hypervolume值
% [n_sol, dim] = size(U);
% samples = bsxfun(@plus, AU, bsxfun(@times, (U - AU), rand(N, dim)));
%% STAR
HV=[];
aaa=[];
bbb=[];
for t=1:100
aaa=[aaa;b{t,1}(1,1);b{t,2}(1,1)];
bbb=[bbb;b{t,1}(1,2);b{t,2}(1,2)];
end
aaa
bbb
[A,P2] = p(aaa,bbb);
for i =1:length(A(:,1))
    hv = hypervolume(A(i,:),samples);
    HV=[HV;hv];
end
x2=A(:,1);
y2=A(:,2);
a1=[];
b1=[];
% b1=cell(100,2);
for j =1:length(P2)
 a1=[a1;a(P2(j),:) ];
end
for j =1:length(P2)
 b1=[b1;b(P2(j),:) ];
end
a=a1;
b=b1;
%% 絕對距離判斷代數中止
[R] = Rmetric(A);
%% hv收斂圖
B =max(HV);

D = [D B(1)];
f1=max(D);

if i1 == 1
    x=[x 0];
    y=[y f1];
else
    if y(end) ~= f1
        x = [x i1];
        y = [y y(end)];
    end
end
y = [y f1];
x = [x i1];
%% R收斂圖
B =min(R)
%% 需留著
if i1==1
    qq=find(R==min(R),1);
    best={a(qq,:),b(qq,:),min(R)};
else
    qq=find(R==min(R),1);
    B(1);
    min(D);
    if B(1)< min(D)
        best={a(qq,:),b(qq,:),min(R)};
    end
end
%% 
% D = [D B(1)];
% f1=min(D);
% 
% if i1 == 1
%     x=[x 0];
%     y=[y f1];
% else
%     if y(end) ~= f1
%         x = [x i1];
%         y = [y y(end)];
%     end
% end
% y = [y f1];
% x = [x i1];
%% 利潤收斂圖
% B =max(x2);
% D = [D B(1)];
% f1=max(D);
% if i1 == 1
%     x=[x 0];
%     y=[y f1];
% else
%     if y(end) ~= f1
%         x = [x i1];
%         y = [y y(end)];
%     end
% end
% y = [y f1];
% x = [x i1];
%% 碳足跡收斂圖
% B1=min(y2);
% D2= [D2 B1(1)];
% 
% f2=min(D2);
% if i1 == 1
%     x=[x 0];
%     y=[y f2];
% else
%     if y(end) ~= f2
%         x = [x i1];
%         y = [y y(end)];
%     end
% end
% y = [y f2];
% x = [x i1];
end
% stop=cell(100,2)
% for ii =1:length(a(:,1))
% [SS,SSs] = LBssR(a(ii,:),T1,T22)
% stop{ii,1}=SS;stop{ii,2}=SSs
% end
%% 看本次最佳柏拉圖解中止點
% s=best{1}(1,:)
% inputp=cell2mat(best{2}(1))
% 
% beststop=LBssR(s,T1,T22,inputp,samples)
% psoans=[]
% for iii =1:length(A)
% beststop=LBssR(a1(iii,:),T1,T22,A(iii,:),samples)
% psoans=[psoans;beststop]
% end
% SS= taxlbss(s,samples,T1,T22)
%  ans =parajim(x2,y2);

% f
%% 要更改
plot(x,y,'LineWidth',2)
title('收斂圖')
xlabel('代數')
ylabel('HV')
% best
toc
[ans,ans2]=act(A,a1);
beststop=LBssR(ans2,T1,T22,samples)
ans
toc
% % beststop
